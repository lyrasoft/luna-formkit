System.register(["@main"],(function(e,t){"use strict";var r;t&&t.id;return{setters:[function(e){}],execute:function(){u.formValidation(),r=class{constructor(e,t){Object.defineProperty(this,"el",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),this.registerValidation(),this.replaceIds(),this.autoCheckOther()}async registerValidation(){const e=this.el.querySelector("form"),t=u.route("formkit.action."+this.uid);this.el.querySelector("[data-task=submit]").addEventListener("click",(()=>{e.action=t,e.requestSubmit(),setTimeout((()=>{e.removeAttribute("action")}),500)})),e.addEventListener("submit",(t=>{let r,o=0;t.currentTarget.querySelectorAll(".input-list-container[required]");const i=e.querySelectorAll(".c-grid-scale[required]");for(const e of i){const t=e.querySelectorAll("tbody > tr");e.closest(".form-group").classList.remove("has-invalid");for(const i of t){const t=Array.from(i.querySelectorAll("[type=checkbox], [type=radio]")),l=t.filter((e=>e.checked));i.querySelector(".invalid-feedback")?.remove();for(const e of t)e.setCustomValidity("");if(0===l.length){const l=u.__("unicorn.message.validation.value.missing"),s=u.html(`<small class="invalid-feedback form-control-tooltip d-block">${l}</small>`);for(const e of t)e.setCustomValidity(l);i.querySelector(".c-row-text").appendChild(s),e.closest(".form-group").classList.add("has-invalid"),r||(r=e),o++}}}o>0&&(r&&r.scrollIntoView(),t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}))}replaceIds(){const e=this.el.querySelectorAll(".c-formkit-field");for(const t of e){t.dataset.uid}}autoCheckOther(){}},u.directive("formkit",{mounted(e,{value:t}){u.module(e,"formkit",(e=>new r(e,t)))}})}}}));