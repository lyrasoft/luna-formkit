System.register(["@main"],(function(e,t){"use strict";var o;t&&t.id;return{setters:[function(e){}],execute:function(){u.formValidation(),o=class{constructor(e,t){Object.defineProperty(this,"el",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),this.registerValidation(),this.autoCheckOther()}async registerValidation(){const e=this.el.querySelector("form"),t=u.route("formkit.action."+this.uid);this.el.querySelector("[data-task=submit]").addEventListener("click",(()=>{e.action=t,e.requestSubmit(),setTimeout((()=>{e.removeAttribute("action")}),500)})),e.addEventListener("submit",(t=>{let o,r=0;t.currentTarget;const i=e.querySelectorAll(".c-grid-scale[required]");for(const e of i){const t=e.querySelectorAll("tbody > tr");e.closest(".form-group").classList.remove("has-invalid");for(const i of t){const t=Array.from(i.querySelectorAll("[type=checkbox], [type=radio]")),s=t.filter((e=>e.checked));i.querySelector(".invalid-feedback")?.remove();for(const e of t)e.setCustomValidity("");if(0===s.length){const s=u.__("unicorn.message.validation.value.missing"),a=u.html(`<small class="invalid-feedback form-control-tooltip d-block">${s}</small>`);for(const e of t)e.setCustomValidity(s);i.querySelector(".c-row-text").appendChild(a),e.closest(".form-group").classList.add("has-invalid"),o||(o=e),r++}}}r>0&&(o&&o.scrollIntoView(),t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}))}autoCheckOther(){u.selectAll(".js-other-text",(e=>{e.addEventListener("input",(()=>{const t=e.closest("[data-input-option]")?.querySelector("[data-radio-item-input], [data-checkbox-item-input]");t&&(t.checked=!0)}))}))}},u.directive("formkit",{mounted(e,{value:t}){u.module(e,"formkit",(e=>new o(e,t)))}})}}}));